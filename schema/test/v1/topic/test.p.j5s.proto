// Generated by j5build v0.0.0-20250403212908-de7c3c2e6cce. DO NOT EDIT

syntax = "proto3";

package test.v1.topic;

import "buf/validate/validate.proto";
import "google/protobuf/empty.proto";
import "j5/ext/v1/annotations.proto";
import "j5/messaging/v1/annotations.proto";
import "test/v1/greeting.j5s.proto";

service TestTopic {
  option (j5.messaging.v1.service) = {
    topic_name: "test"
    publish: {
    }
  };

  rpc Greeting(GreetingMessage) returns (google.protobuf.Empty) {}
}

message GreetingMessage {
  option (j5.ext.v1.message).object = {};

  string greeting_id = 1 [
    (buf.validate.field) = {
      required: true
      string: {
        uuid: true
      }
    },
    (j5.ext.v1.field).key = {}
  ];

  string name = 2 [
    (buf.validate.field).required = true,
    (j5.ext.v1.field).string = {}
  ];

  // When not-nil, the handler will throw an error back to the sidecar
  // which should result in a dead letter.
  test.v1.TestError worker_error = 3 [(j5.ext.v1.field).object = {}];
}
